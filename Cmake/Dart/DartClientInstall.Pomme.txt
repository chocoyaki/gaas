mkdir ~/local
mkdir ~/tmp
mkdir ~/DashboardDiet

#################### ssh related tricks:
# Set ~/.ssh/config with IdentityFile option for enabling cvs
# checkout with dart's ssh keys.

# Make sure we can use the IdentiFIle option we just set above:
cat > ~//DashboardDiet/cvs_rsh_dart
#!/bin/sh
exec /usr/bin/ssh -x -i $HOME/.ssh/dart_id_dsa $@
^D

chmod +x ~/DashboardDiet/cvs_rsh_dart
export CVS_RSH=~/DashboardDiet/cvs_rsh_dart

# First import of cvs:
mkdir -p ~/DashboardDiet/cvs
cd  ~/DashboardDiet/cvs
cvs -d :ext:dart@graal.ens-lyon.fr:/home/CVS/graal co GRAAL/devel/diet/diet

cd ~/DashboardDiet
cp cvs/GRAAL/devel/diet/diet/Cmake/Dart/DashBoardScriptPomme.cmake .

###### Install omniOrb
cd ~/tmp
# Well wget is not installed so get around this:
wget http://ovh.dl.sourceforge.net/sourceforge/omniorb/omniORB-4.0.7.tar.gz
tar zxvf omniORB-4.0.7.tar.gz
cd omniORB-4.0.7
mkdir build
cd build
../configure --prefix=/Users/diet/local/omniORB-4.0.7 PYTHON=/usr/bin/python2.3
make
make install
cd ../..
\rm -fr omniORB-4.0.7.tar.gz omniORB-4.0.7

#### Latex, tranfig and doxygen are NOT installed:
which latex 
which fig2dev
which doxygen
### .... hence we won't be able to build the documentation.

########Cmake BINARY Installation:
cd ~/local
# oh well wget still doesn't exist...
wget http://www.cmake.org/files/v2.4/cmake-2.4.3-Darwin-universal.tar.gz
tar ztvf cmake-2.4.3-Darwin-universal.tar.gz
tar zxvf cmake-2.4.3-Darwin-universal.tar.gz
cd ~/local/bin
ln -s ~/local/cmake-2.4.3-Darwin-universal/bin/* .
cd ~/local/man/man1  && ln -s ~/local/cmake-2.4.3-Darwin-universal/man/man1/* .
cd ~/local
mkdir doc
cd doc && ln -s ~/local/cmake-2.4.3-Darwin-universal/doc/CMake .
cd ~/local
mkdir share
cd share && ln -s ~/local/cmake-2.4.3-Darwin-universal/share/CMake .
cd ~/local && rm -f cmake-2.4.3-Darwin-universal.tar.gz
# When necessary, fix PATH in ~/.bashrc

###### Notes on installing Appleseed
# http://grail.sdsc.edu/projects/appleseeds/install.html
cd ~/tmp
wget http://grail.sdsc.edu/projects/appleseeds/appleseeds-2.2.1.tar.gz
tar zxvf appleseeds-2.2.1.tar.gz
cd appleseeds-2.2.1
more INSTALL
more Doc/install
./configure --prefix=$HOME/local/appleseeds-2.2.1
make
make install
cd ..
\rm -fr appleseeds-2.2.1

###### Edit the crontab:
crontab -e
 1 22 * * * cd /Users/diet/DashboardDiet/cvs && export CVS_RSH=/Users/diet/DashboardDiet/cvs_rsh_dart && /Users/diet/local/bin/ctest -S /Users/diet/DashboardDiet/DashBoardScriptPomme.cmake,Nightly -V > /Users/diet/DashboardDiet/dartcron.Nightly.log 2>&1
 1 8 * * * cd /Users/diet/DashboardDiet/cvs && export CVS_RSH=/Users/diet/DashboardDiet/cvs_rsh_dart && /Users/diet/local/bin/ctest -S /Users/diet/DashboardDiet/DashBoardScriptPomme.cmake,Continuous -V > /Users/diet/DashboardDiet/dartcron.Continuous.log 2>&1

