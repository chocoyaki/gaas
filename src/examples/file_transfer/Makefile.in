#****************************************************************************#
#* $Id$ *#
#* file_transfer example: Makefile                                          *#
#*                                                                          *#
#*  Author(s):                                                              *#
#*    - Philippe COMBES           - LIP ENS Lyon (France)                   *#
#*    - Romain   LACROIX          - LIP ENS Lyon (France)                   *#
#*                                                                          *#
#*  This is part of DIET software.                                          *#
#*  Copyright (C) 2002 ReMaP/LIFC/INRIA                                     *#
#*                                                                          *#
#****************************************************************************#
#*
#* $Log$
#* Revision 1.1.1.1  2002/10/15 18:52:03  pcombes
#* Example of a file transfer: size of the file.
#*
#* Revision 1.1.1.1  2002/10/15 18:48:18  pcombes
#* Add new file transfer example.
#*
#****************************************************************************#


TOP = ../../..
include $(TOP)/src/config.mk

DIETLIBS = -L @PREFIX@/lib

CC = gcc
INCLUDE = -I$(TOP)/include -I$(FASTTOP)/include
CCFLAGS = $(FASTFLAGS)
LIBS    = $(DIETLIBS) $(OMNIORBLIBS)


all: client server

client.o:	client.c
	$(CC) -c $< $(CCFLAGS) $(INCLUDE) -o $@

client:		client.o @PREFIX@/lib/libDIET_client.a
	$(CC) $< $(CCFLAGS) $(LIBS) -lDIET_client -o $@

server.o:	server.c
	$(CC) -c $< $(CCFLAGS) $(INCLUDE) -o $@

server:		server.o @PREFIX@/lib/libDIET_SeD.a
	$(CC) $< $(CCFLAGS) $(LIBS) -lDIET_SeD $(FASTLIBS) -o $@

clean:
	rm -f *.o client server