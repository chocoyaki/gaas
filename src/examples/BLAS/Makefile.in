#****************************************************************************#
#* $Id$ *#
#* DIET examples BLAS Makefile                                              *#
#*                                                                          *#
#*  Author(s):                                                              *#
#*    - Philippe COMBES           - LIP ENS-Lyon (France)                   *#
#*    - Romain   LACROIX          - LIP ENS-Lyon (France)                   *#
#*    - Christophe PERA           - LIP ENS-Lyon (France)                   *#
#*                                                                          *#
#*  This is part of DIET software.                                          *#
#*  Copyright (C) 2002 ReMaP/LIFC/INRIA                                     *#
#*                                                                          *#
#****************************************************************************#
#*
#* $Log$
#* Revision 1.13  2003/02/14 10:30:06  cpera
#* add files used by autoconf/automake.
#*
#* Revision 1.9  2002/12/03 19:05:12  pcombes
#* Clean CVS logs in file.
#* Separate BLAS and SCALAPACK examples.
#*
#* Revision 1.7  2002/11/07 18:42:42  pcombes
#* Add includes and configured Makefile variables to install directory.
#* Update dgemm to the implementation that is hardcoded in FAST.
#*
#* Revision 1.5  2002/10/03 17:58:16  pcombes
#* Add trace levels (for Bert): traceLevel = n can be added in cfg files.
#* An agent son can now be killed (^C) without crashing this agent.
#* DIET with FAST: compilation is OK, but run time is still to be fixed.
#*
#****************************************************************************#


include @prefix@/include/Makefile.inc

BLASLIBS  = @LIBS_BLAS@

all:	client server dgemm_client

client:		client.o @prefix@/lib/libDIET_client.a
	libtool $(CC) $< $(CCFLAGS) $(CLIENT_LIB) $(LIBS) -o $@

client.o:	client.c
	libtool $(CC) -c $< $(CCFLAGS) -o $@

server:		server.o @prefix@/lib/libDIET_SeD.a
	libtool $(CC) $< $(CCFLAGS) $(SED_LIB) $(LIBS) $(BLASLIBS) -o $@

server.o:	server.c
	libtool $(CC) -c $< $(CCFLAGS) -o $@

dgemm_client:	dgemm_client.o @prefix@/lib/libDIET_client.a
	libtool $(CC) $< $(CCFLAGS) $(CLIENT_LIB) $(LIBS) -o $@

dgemm_client.o:	dgemm_client.c
	libtool $(CC) -c $< $(CCFLAGS) -o $@

