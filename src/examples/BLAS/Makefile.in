#****************************************************************************#
#* $Id$ *#
#* DIET examples BLAS Makefile                                              *#
#*                                                                          *#
#*  Author(s):                                                              *#
#*    - Philippe COMBES           - LIP ENS-Lyon (France)                   *#
#*    - Romain   LACROIX          - LIP ENS-Lyon (France)                   *#
#*                                                                          *#
#*  This is part of DIET software.                                          *#
#*  Copyright (C) 2002 ReMaP/LIFC/INRIA                                     *#
#*                                                                          *#
#****************************************************************************#
#*
#* $Log$
#* Revision 1.10  2003/01/07 18:27:04  pcombes
#* "include @PREFIX@/include/Makefile.inc" was not a good idea if examples
#* are not installed with DIET.
#*
#* Revision 1.9  2002/12/03 19:05:12  pcombes
#* Clean CVS logs in file.
#* Separate BLAS and SCALAPACK examples.
#*
#* Revision 1.7  2002/11/07 18:42:42  pcombes
#* Add includes and configured Makefile variables to install directory.
#* Update dgemm to the implementation that is hardcoded in FAST.
#*
#* Revision 1.5  2002/10/03 17:58:16  pcombes
#* Add trace levels (for Bert): traceLevel = n can be added in cfg files.
#* An agent son can now be killed (^C) without crashing this agent.
#* DIET with FAST: compilation is OK, but run time is still to be fixed.
#*
#****************************************************************************#


TOP = ../../..
include $(TOP)/include/Makefile.inc

BLASLIBS  = @BLASLIBS@

all:	client server dgemm_client

client:		client.o @PREFIX@/lib/libDIET_client.a
	$(CC) $< $(CCFLAGS) $(CLIENT_LIB) $(LIBS) -o $@

client.o:	client.c
	$(CC) -c $< $(CCFLAGS) -o $@

server:		server.o @PREFIX@/lib/libDIET_SeD.a
	$(CC) $< $(CCFLAGS) $(SED_LIB) $(LIBS) $(BLASLIBS) -o $@

server.o:	server.c
	$(CC) -c $< $(CCFLAGS) -o $@

dgemm_client:	dgemm_client.o @PREFIX@/lib/libDIET_client.a
	$(CC) $< $(CCFLAGS) $(CLIENT_LIB) $(LIBS) -o $@

dgemm_client.o:	dgemm_client.c
	$(CC) -c $< $(CCFLAGS) -o $@

clean:
	rm -f *.o client server dgemm_client





