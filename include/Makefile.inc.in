#****************************************************************************#
#* $Id$ *#
#* DIET global options for User Makefiles                                   *#
#*                                                                          *#
#*  Author(s):                                                              *#
#*    - Philippe COMBES (Philippe.Combes@ens-lyon.fr)                       *#
#*                                                                          *#
#* $LICENSE$                                                                *#
#****************************************************************************#
#* $Log$
#* Revision 1.5  2003/01/31 13:08:07  pcombes
#* Apply Coding Standards
#*
#* Revision 1.4  2003/01/27 17:59:08  pcombes
#* Process all .in files the same way
#*
#* Revision 1.3  2003/01/22 17:05:13  pcombes
#* Define DIET_SERVER_LIBS and DIET_CLIENT_LIBS instead of two variables for
#* each ; move FAST_LIBS into confg.mk.in (not required to compile users'
#* programs)
#*
#* Revision 1.2  2002/12/03 19:08:24  pcombes
#* Update configure, update to FAST 0.3.15, clean CVS logs in files.
#* Put main Makefile in root directory.
#****************************************************************************#


# DIET variables

DIET_HOME  = @PREFIX@
DIET_FLAGS = -L$(DIET_HOME)/lib -I$(DIET_HOME)/include
CLIENT_LIB = -lDIET_client
SED_LIB    = -lDIET_SeD


# omniORB variables

OMNIORB_V   = @OMNIORB_VERSION@
OMNIORBLIBS = -L@OMNIORB_LIB@ -lomniORB$(OMNIORB_V) -lomnithread \
	      -lpthread -lomniDynamic$(OMNIORB_V)
ifeq ($(OMNIORB_V), 3)
  OMNIORBLIBS += -ltcpwrapGK
endif


# Generic variables
CC	= gcc
CCFLAGS	= -O2 -Wall -Wno-unused -D__x86__ -D__linux__ -D__OSVERSION__=2 \
	  $(DIET_FLAGS)

CXX      = g++
CXXFLAGS = -O2 -Wall -Wno-unused -D__x86__ -D__linux__ -D__OSVERSION__=2 \
	   -D_REENTRANT $(DIET_FLAGS)

DIET_SERVER_LIBS = $(SED_LIB) $(OMNIORBLIBS)
DIET_CLIENT_LIBS = $(CLIENT_LIB) $(OMNIORBLIBS)
